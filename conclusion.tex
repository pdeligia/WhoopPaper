In this paper we presented \whoop, a new automated approach for detecting all possible data races in device drivers. Compared to traditional data race detection techniques that are based on happens-before and typically attempt to explore as many thread interleavings as possible (and thus face code coverage and scalability issues), \textsc{Whoop} uses over-approximation and symbolic pairwise lockset analysis, which scales well. Exploiting the race-freedom guarantees provided by \whoop, we showed that we can achieve a sound partial-order reduction that can significantly accelerate \corral, a state-of-the-art concurrency bug-finder.
